\chapter{Inconsistency indexes}
\label{sec:inconsistencyIndexes}
\section{Inconsistency indexes for complete matrices}

This subsection presents sixteen commonly used inconsistency indexes. In the next chapter their detailed description (including their formulas) will be modified, so that they can also work for incomplete matrices. Many of them were described and tested numerically in the article \cite{Brunelli2013}. In all the cases, it is assumed that the PC matrix is reciprocal.


 \subsection{Saaty index ($\textit{CI}$)}

This is one of the most important and popular indexes. It was introduced by Saaty in his seminal work \cite{SAATY1977}. In order to determine inconsistency, the matrix's eigenvalues should be computed. The author used the dependence that the largest eigenvalue of the matrix is equal to its dimension if and only if the given matrix is completely consistent. On this assumption, he proposed the formula:
	\begin{equation} 
		CI(M)=\frac{\lambda_{max}-n}{n-1},
	 \end{equation}
 where $\lambda_{max}$
  is the principal eigenvalue of $n\times n$ matrix $M$.


\subsection{Geometric consistency index ($\textit{GCI}$)}

Based on the principle~(\ref{eq:consistent2}) Craford and Williams defined geometric consistency index (	\textit{GCI}) \cite{CRAWFORD1985}. The index was refined by Aguaròn and Moreno-Jimènez \cite{AGUARON2003}. The authors assumed that in such a case a priority vector should be calculated using the geometric mean method. Consider~(\ref{eq:consistent}) one can create a matrix:
	\begin{equation} 
		E=\left[e_{ij}\mid e_{ij}=m_{ij}\frac{w_{j}}{w_{i}}\right],\,\,\,\,\,\,i,j=1,...,n.
	 \end{equation}
 The inconsistency index is calculated as follows:
	 \begin{equation} 
		\label{eq:GCI}
		\textit{GCI}=\frac{2}{(n-1)(n-2)}\sum_{i=1}^{n}\sum_{j=i+1}^{n}ln^{2}e_{ij}.
	 \end{equation}

\subsection{Koczkodaj index ($\textit{K}$)}

One of the most popular inconsistency indexes was proposed by Koczkodaj \cite{KOCZKODAJ1993}. It is based directly on the definition of consistency~(\ref{eq:consistent}). The value of the inconsistency index for one triad of alternatives $(c_i, c_j, c_k)$ was defined as:
	\begin{equation} 
		\label{eq:K}
		K_{i,j,k}=min\{\frac{1}{m_{ij}}\mid m_{ij}-\frac{m_{ik}}{m_{jk}}\mid,\frac{1}{m_{ij}}\mid m_{ik}-m_{ij}m_{jk}\mid,\frac{1}{m_{jk}}\mid m_{jk}-\frac{m_{ik}}{m_{ij}}\mid\}.
	 \end{equation}

 This formula was simplified by Duszak and Koczkodaj \cite{DUSZAK1994} and is given as:
 	\begin{equation} 
		K(\alpha,\beta,\gamma)=min\{\mid1-\frac{\beta}{\alpha\gamma}\mid,\mid1-\frac{\alpha\gamma}{\beta}\mid\},\,\,\,\,\,\,where\,\alpha=m_{ij},\beta=m_{ik},\gamma=m_{jk}
	 \end{equation}
 Then it was generalized \cite{DUSZAK1994} for $n>2$. Finally, the inconsistency index has the following form:
 	\begin{equation} 
		K=max\{K(\alpha,\beta,\gamma)|1\leq i<j<k\leq n\}.
	 \end{equation}
 It is worth noting that not only does the coefficient find the most significant triad's inconsistency but also indicates the place in which it occurs.


\subsection{Kazibudzki indexes ($\textit{MLTI}, \textit{MLTI*}, \textit{CMLTI*}$)}

Based on the Koczkodaj inconsistency index and observation that $ln(\frac{\alpha\gamma}{\beta})=-ln(\frac{\beta}{\alpha\gamma})$, Kazibudzki proposed several additional inconsistency indexes \cite{Kazibudzki2016}. Instead of the formula for inconsistency of the triad [eq:k-abg], he introduced two new formulas:
	\begin{equation} 
		\textit{LTI}(\alpha,\beta,\gamma)=\mid ln(\frac{\alpha\gamma}{\beta})\mid,
	 \end{equation}
	\begin{equation}
		\label{eq:lti*} 
		\textit{LTI*}(\alpha,\beta,\gamma)=ln^{2}(\frac{\alpha\gamma}{\beta}).
	 \end{equation}
Based on the above equations, Kazibudzki proposed new indexes. The simplest ones use the geometric mean of the triads. Thus, new indexes could be written in the form:
	\begin{equation} 
	\textit{MLTI}(\textit{LTI})=\frac{1}{n}\sum_{i=1}^{n}\left[\textit{LTI}_{i}(\alpha,\beta,\gamma)\right],
	 \end{equation}
 	\begin{equation} 
		\textit{MLTI}(\textit{LTI*})=\frac{1}{n}\sum_{i=1}^{n}\left[\textit{LTI*}_{i}(\alpha,\beta,\gamma)\right].
			 \end{equation}
 

After further research Kazibudzki introduces another inconsistency index \cite{Kazibudzki2017}, again based on~\ref{eq:lti*}. It was defined as $\textit{CM}(\textit{LTI*})=\frac{\textit{MEAN}[\textit{LTI*}(\alpha,\beta,\gamma)]}{1+\textit{MAX}[\textit{LTI*}(\alpha,\beta,\gamma)]}$. Hence,
	\begin{equation} 
		\textit{CM}(\textit{LTI*})}=\frac{\frac{1}{n}\sum_{i=1}^{n}[LTI*_{i}(\alpha,\beta,\gamma)]}{1+max\{\textit{LTI*}_{i}(\alpha,\beta,\gamma)\}}.
	 \end{equation}
 

\subsection{Index of determinants ($\textit{PL}$)}

This index was proposed by Pelaez and Lamata \cite{PELAEZ2003} and is also based on the concept of triad. The authors noticed that PC  matrices can be constructed on the basis of triads. Their determinant is closely related to the consistency of the matrix.

For every triad $(m_{ik},m_{ij},m_{jk})$ one can build a matrix in the form: 
	\begin{equation} 
		T_{ijk}=\left(\begin{array}{ccc}
			1 & m_{ij} & m_{ik}\\
			\frac{1}{m_{ij}} & 1 & m_{jk}\\
			\frac{1}{m_{ik}} & \frac{1}{m_{jk}} & 1
		\end{array}\right),
	\end{equation}
	where $i<j<k$.
 The determinant of this matrix is:
	\begin{equation} 
		det(M)=\frac{m_{ik}}{m_{ij}m_{jk}}+\frac{m_{ij}m_{jk}}{m_{ik}}-2.
	 \end{equation}
 If the matrix is fully consistent, then $det(M)=0$, else $det(M)>0$. Based on the above considerations, the authors introduced the new inconsistency index:
 	\begin{equation} 
		\textit{CI}*=\frac{1}{n}\sum_{i=1}^{n}\left(\frac{m_{ik}}{m_{ij}m_{jk}}+\frac{m_{ij}m_{jk}}{m_{ik}}-2\right).
	 \end{equation}
 

\subsection{Kułakowski and Szybowski indexes ($\textit{I}_1, \textit{I}_2, \textit{I}_{\alpha}, \textit{I}_{\alpha,\beta}$ ) }

Kułakowski and Szybowski proposed two further inconsistency indexes \cite{KULAKOWSKI20141}, which are also based on triads. They use the fact that the number of triads that can be found in a PC matrix is:
	\begin{equation} 
		\label{eq:nPo3}
		\binom{n}{3}=\frac{n!}{(n-3)!3!}=\frac{n(n-1)(n-2)}{6}.
	 \end{equation}
 The index is formulated as follows:
	 \begin{equation} 
	 \label{eq:I1}		
		I_{1}=\frac{6\sum_{t\in T}K(t)}{n(n-1)(n-2)},
	 \end{equation}
 where $K(t)$ is the Koczkodaj index for triad $t=(\alpha,\beta,\gamma)$ of the set of all triads $T$. 

The second inconsistency index is similar:
	\begin{equation} 
	 \label{eq:I2}				
		I_{2}=\frac{6\sqrt{\sum_{t\in T}K^{2}(t)}}{n(n-1)(n-2)}.
	 \end{equation}

Indexes can be combined with each other to create new coefficients. In this way Kułakowski and Szybowski proposed two new indexes. The first one is based on~(\ref{eq:K}) and~(\ref{eq:I1}). This index allows to choose which value should have more impact on the result: the greatest inconsistency found or the average inconsistency of all triads. The new inconsistency index looks as follows:
	\begin{equation} 
		I_{\alpha}=\alpha K+(1-\alpha)I_{1},
	 \end{equation}
 where $0\leq\alpha\leq1$.
  
The second index expands the first one by~(\ref{eq:I2}):
	\begin{equation} 
		I_{\alpha,\beta}=\alpha K+\beta I_{1}+(1-\alpha-\beta)I_{2}.
	 \end{equation}
 

\subsection{Harmonic consistency index ($\textit{HCI}$)}

This index was introduced by Stein and Mizzi and it presents a completely new method of inconsistency computing \cite{STEIN2007}. At the beginning it requires the creation of an auxiliary vector $s=(s_{1},...,s_{n})^{T}$, where $n$ by $n$ is the dimension of the matrix $M$, for which the index will be calculated. Each element of the vector $s$ is the sum of values in one column of the matrix $M$. Hence, 
	\begin{equation} 
		s_{j}=\sum_{i=1}^{n}m_{ji}\,\,\,\,\,\,\forall j.
	 \end{equation}
 The authors proved that if the matrix $M$ is consistent, then $\sum_{j=1}^{n}s_{j}^{-1}=1$. The formula for the mean harmonic looks as follows (Brunelli, 2015):
	 \begin{equation} 
		\label{eq:hm1}
		\textit{HM}=\frac{n}{\sum_{j=1}^{n}\frac{1}{s_{j}}}.
	 \end{equation}
 The final formula for the inconsistency index was obtained by normalizing the above equation~(\ref{eq:hm1}):
 	\begin{equation} 
		\textit{HCI}=\frac{\left(\extit{HM}(s)-n\right)\left(n+1\right)}{n(n-1)}.
	 \end{equation}
 

\subsection{Golden and Wang index ($\textit{GW}$)}

This index was introduced by Golden and Wang \cite{Golden1989}. It assumes that the priority vector was calculated using the geometric mean method, then normalized to add up to $1$. In this way vector $g*=[g{}_{1,}^{*},...,g_{n}^{*}]$ was obtained, where $n$ by $n$ is the dimension of the matrix $M$. The next step is to normalize each column of the matrix $M$. After this, the sum of the elements of each column in matrix $M$ is $1$. The obtained matrix is marked with the symbol $M^{*}$. The inconsistency index is defined as follows:
	\begin{equation} 
		\textit{GW}=\frac{1}{n}\sum_{i=1}^{n}\sum_{j=1}^{n}\mid m_{ij}^{*}-g_{i}^{*}\mid.
	 \end{equation}
 

\subsection{Salo and Hamalainen index ($\textit{CM}$)}

The index proposed by Salo and Hamalainen \cite{SALO1995} uses the definition of inconsistency~(\ref{eq:consistent}). It requires, however, the creation of an auxiliary matrix, in which each element contains the smallest and largest discrepancy from consistency based on the formula~(\ref{eq:consistent}). The index takes all triads into account:
	\begin{equation} 
		R=(r_{ij})_{nxn}=\left(\begin{array}{ccc}
			[\underline{r}_{11},\overline{r}_{11}] & \ldots & [\underline{r}_{1n},\overline{r}_{1n}]\\
			\vdots & \ddots & \vdots\\{}
			[\underline{r}_{n1},\overline{r}_{n1}] & \ldots & [\underline{r}_{nn},\overline{r}_{nn}]
		\end{array}\right),
	\end{equation}
 where $\underline{r_{ij}}=min\left\{ m_{ik}m_{kj}\mid k=1,\ldots,n\right\}$ , $\overline{r_{ij}}=max\left\{ m_{ik}m_{kj}\mid k=1,\ldots,n\right\}$ and $n$ by $n$ is the dimension of the tested matrix $M$. A numerical example was presented in \cite{Brunelli2015}. Based on the resulting matrix $R$, the authors proposed the following inconsistency index:
 	\begin{equation} 
		\textit{CM}=\frac{2}{n(n-1)}\sum_{i=1}^{n-1}\sum_{j=i+1}^{n}\frac{\overline{r}_{ij}-\underline{r}_{ij}}{\left(1+\overline{r}_{ij}\right)\left(1+\underline{r}_{ij}\right)}.
	 \end{equation}
 

\subsection{Cavallo and D’Apuzzo index ($I_{CD}$)}

The authors Cavallo and D'Apuzzo based their index on triads but they conducted studies on a new path, generalizing them for linear, ordered abelian groups (\cite{Cavallo2009}, \cite{Cavallo2010}). Thanks to this, the index can be used also with other relations \cite{Brunelli2013}. Index for relation $max$ can be presented in the form of a formula:
	\begin{equation} 
		\label{eq:CavDAp}
		I_{CD}=\prod_{i=1}^{n-2}\prod_{j=i+1}^{n-2}\prod_{k=j+1}^{n}\left(max\left\{ \frac{m_{ik}}{m_{ij}m_{jk}},\frac{m_{ij}m_{jk}}{m_{ik}}\right\} \right){}^{\frac{1}{\binom{n}{3}}}.
	 \end{equation}
 

\subsection{Relative error ($\textit{RE}$)}

This index, proposed by Barzaili \cite{Jonathan1998}, requires calculation of the weight vector using the arithmetic mean method for each row and creation of two additional matrices. Thus, the weight vector is $$w_{i}=\frac{1}{n}\sum_{j=1}^{n}m_{ij},$$ where $n$  by $n$ is the dimension of the matrix. The two auxiliary matrices are calculated according to the formulas:
$$C=\left(c_{ij}\right)=\left(w_{i}-w_{j}\right)$$
$$E=\left(e_{ij}\right)=\left(m_{ij}-c_{ij}\right)$$

Ultimately, the formula for the Relative error is the following:
	\begin{equation} 
		RE(M)=\frac{\sum_{ij}e_{ij}^{2}}{\sum_{ij}m_{ij}^{2}}.
	 \end{equation}


\section{Inconsistency indexes for incomplete matrices}
\label{sec:inconsistencyIndexesForIncompleteMatrices}

There are no inconsistency indexes for incomplete matrices. However, Those presented in chapter 3 could be used in such cases. It requires usually a slight modification of the index definition or calculation only for selected data. The ways in which the examined indexes were adjusted to be able to deal with incomplete matrices are presented below.

\begin{description}

\item[Saaty index] \hfill \\ 
	The input matrix is modified using the method proposed by Harker \cite{HARKER1987}. It means that values $c+1$, where $c$ is the number of non-empty elements in a given row, are placed on the diagonal.

\item[Geometric consistency index]: \hfill \\
	During calculating the weight vector by the geometric mean, empty values are omitted. Additionally, in the formula~(\ref{eq:GCI}) only non-empty elements $e_{ij}$ are used. The reason for this exclusion is that the domain of the logarithmic function is $\mathbb{R}^{+}$.

\item[Koczkodaj index, Kazibudzki indexes, Index of determinants:] \hfill \\ 
  Only those triads which do not contain empty values are taken into account.

\item[Kułakowski and Szybowski indexes]: \hfill \\ 
	Only those triads which do not contain empty values are taken into account. In addition, the number of triads is no longer calculated according to the formula~(\ref{eq:nPo3}) but determined directly by counting the number of triads.

\item[Harmonic consistency index:] \hfill \\ 
  No modification.

\item[Golden and Wang index:] \hfill \\ 
  During calculating the weight vector by the geometric mean empty values are omitted.

\item[Salo and Hamalainen:] \hfill \\ 
  No modification.

\item[Cavallo and D'Appuzo:] \hfill \\
	During calculating the product~\ref{eq:CavDAp} empty values are omitted.

\item[Relative index:] \hfill \\ 
  No modification.
\end{description}

Proposed methods of adjustments of indexes allow to apply them to incomplete matrices. However, they do not guarantee the best results. It means that further experiments are required. The existing indexes can be modified in many different ways. In this paper emphasis is put on the fact that the adjustments were slight. The aim of this study is to examine existing indexes, not to create new ones.